<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equity Structure Overview - Fitness App</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-blue: #2563eb;
            --primary-green: #10b981;
            --primary-amber: #f59e0b;
            --neutral-50: #fafafa;
            --neutral-100: #f5f5f5;
            --neutral-200: #e5e5e5;
            --neutral-300: #d4d4d4;
            --neutral-400: #a3a3a3;
            --neutral-500: #737373;
            --neutral-600: #525252;
            --neutral-700: #404040;
            --neutral-800: #262626;
            --neutral-900: #171717;
            --red-500: #ef4444;
            --red-600: #dc2626;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--neutral-50) 0%, #ffffff 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            line-height: 1.6;
            color: var(--neutral-800);
            font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #ffffff 0%, var(--neutral-50) 100%);
            border-bottom: 1px solid var(--neutral-200);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f5f5f5' fill-opacity='0.4'%3E%3Ccircle cx='7' cy='7' r='1'/%3E%3Ccircle cx='27' cy='7' r='1'/%3E%3Ccircle cx='47' cy='7' r='1'/%3E%3Ccircle cx='7' cy='27' r='1'/%3E%3Ccircle cx='27' cy='27' r='1'/%3E%3Ccircle cx='47' cy='27' r='1'/%3E%3Ccircle cx='7' cy='47' r='1'/%3E%3Ccircle cx='27' cy='47' r='1'/%3E%3Ccircle cx='47' cy='47' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 64px 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: clamp(36px, 5vw, 64px);
            font-weight: 900;
            letter-spacing: -0.02em;
            color: var(--neutral-900);
            margin-bottom: 24px;
            background: linear-gradient(135deg, var(--neutral-900) 0%, var(--neutral-600) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header-subtitle {
            font-size: 20px;
            font-weight: 400;
            color: var(--neutral-600);
            margin-bottom: 32px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .disclaimer {
            background: linear-gradient(135deg, var(--red-500), var(--red-600));
            color: white;
            padding: 20px 32px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 16px;
            box-shadow: var(--shadow-lg);
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        
        /* Input Form Styles */
        .input-form {
            background: white;
            border-radius: 24px;
            padding: 48px;
            box-shadow: var(--shadow-2xl);
            max-width: 1100px;
            margin: 0 auto;
            border: 1px solid var(--neutral-200);
            position: relative;
            overflow: hidden;
        }
        
        .input-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--primary-green) 35%, var(--primary-amber) 70%, var(--primary-blue) 100%);
            background-size: 200% 100%;
            animation: shimmer 3s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .form-title {
            font-size: 32px;
            font-weight: 800;
            color: var(--neutral-900);
            text-align: center;
            margin: 0 0 8px 0;
            letter-spacing: -0.02em;
        }
        
        .form-subtitle {
            font-size: 16px;
            color: var(--neutral-600);
            text-align: center;
            margin: 0 0 48px 0;
        }
        
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
            gap: 32px;
            margin-bottom: 48px;
        }
        
        .input-section {
            background: var(--neutral-50);
            border: 1px solid var(--neutral-200);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .input-section:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--neutral-300);
        }
        
        .input-section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--neutral-800);
            margin: 0 0 24px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }
        
        .input-group {
            margin-bottom: 24px;
        }
        
        .input-group:last-child {
            margin-bottom: 0;
        }
        
        .input-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--neutral-700);
            margin-bottom: 10px;
            letter-spacing: -0.01em;
        }
        
        .input-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            background: white;
            border: 2px solid var(--neutral-200);
            border-radius: 12px;
            padding: 0;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .input-wrapper:focus-within {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .input-wrapper input[type="number"] {
            background: none;
            border: none;
            padding: 12px 16px;
            font-size: 16px;
            font-weight: 500;
            color: var(--neutral-900);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            width: 100%;
            outline: none;
        }
        
        .input-wrapper.currency {
            position: relative;
        }
        
        .currency-symbol {
            position: absolute;
            left: 16px;
            color: var(--neutral-500);
            font-size: 16px;
            font-weight: 500;
        }
        
        .input-wrapper.currency input {
            padding-left: 32px;
        }
        
        .input-unit {
            color: var(--neutral-500);
            font-size: 14px;
            font-weight: 500;
            padding: 0 16px;
            flex-shrink: 0;
        }
        
        .input-hint {
            font-size: 13px;
            color: var(--neutral-500);
            margin-top: 8px;
            line-height: 1.5;
        }
        
        /* Toggle Group */
        .toggle-group {
            display: flex;
            gap: 0;
            background: white;
            border: 2px solid var(--neutral-200);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .toggle-btn {
            flex: 1;
            padding: 12px 24px;
            background: white;
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: var(--neutral-600);
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .toggle-btn:not(:last-child) {
            border-right: 2px solid var(--neutral-200);
        }
        
        .toggle-btn.active {
            background: var(--primary-blue);
            color: white;
        }
        
        .toggle-btn:hover:not(.active) {
            background: var(--neutral-100);
            color: var(--neutral-900);
        }
        
        /* Slider Styles */
        .slider-wrapper {
            position: relative;
            padding-right: 60px;
        }
        
        .slider-wrapper input[type="range"] {
            width: 100%;
            height: 40px;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
            padding: 0 16px;
        }
        
        .slider-wrapper input[type="range"]::-webkit-slider-track {
            width: 100%;
            height: 6px;
            background: var(--neutral-200);
            border-radius: 3px;
        }
        
        .slider-wrapper input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary-blue);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: var(--shadow-md);
            transition: all 0.2s ease;
        }
        
        .slider-wrapper input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: var(--shadow-lg);
        }
        
        .slider-wrapper input[type="range"]::-moz-range-track {
            width: 100%;
            height: 6px;
            background: var(--neutral-200);
            border-radius: 3px;
        }
        
        .slider-wrapper input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--primary-blue);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: var(--shadow-md);
            transition: all 0.2s ease;
        }
        
        .slider-value {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-blue);
            min-width: 45px;
            text-align: right;
        }
        
        /* Results Preview */
        .results-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding: 32px;
            background: linear-gradient(135deg, var(--neutral-900) 0%, var(--neutral-800) 100%);
            border-radius: 16px;
            margin: -16px -16px -32px -16px;
        }
        
        .result-card {
            text-align: center;
            padding: 24px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }
        
        .result-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .result-label {
            font-size: 14px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .result-value {
            font-size: 32px;
            font-weight: 800;
            color: white;
            letter-spacing: -0.02em;
        }
        
        /* Allocation Slider Styles */
        .allocation-slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            border-radius: 4px;
            outline: none;
            cursor: pointer;
        }
        
        .allocation-slider::-webkit-slider-track {
            width: 100%;
            height: 8px;
            background: var(--neutral-200);
            border-radius: 4px;
        }
        
        .allocation-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid var(--primary-blue);
            box-shadow: var(--shadow-md);
            transition: all 0.2s ease;
        }
        
        .allocation-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }
        
        .allocation-slider::-moz-range-track {
            width: 100%;
            height: 8px;
            background: var(--neutral-200);
            border-radius: 4px;
        }
        
        .allocation-slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid var(--primary-blue);
            box-shadow: var(--shadow-md);
            transition: all 0.2s ease;
        }
        
        .allocation-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--neutral-900);
            min-width: 50px;
            text-align: right;
        }
        
        #foundersBasePool::-webkit-slider-thumb {
            border-color: var(--primary-blue);
        }
        
        #sweatEquityPool::-webkit-slider-thumb {
            border-color: var(--primary-green);
        }
        
        #cashInvestmentPool::-webkit-slider-thumb {
            border-color: var(--primary-amber);
        }
        
        #foundersBasePool::-moz-range-thumb {
            border-color: var(--primary-blue);
        }
        
        #sweatEquityPool::-moz-range-thumb {
            border-color: var(--primary-green);
        }
        
        #cashInvestmentPool::-moz-range-thumb {
            border-color: var(--primary-amber);
        }
        
        /* New Unified Slider Styles */
        .allocation-container {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }
        
        .allocation-slider-container {
            position: relative;
            padding: 20px 0;
        }
        
        .unified-slider {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
            position: relative;
            z-index: 2;
        }
        
        .unified-slider::-webkit-slider-track {
            width: 100%;
            height: 12px;
            background: transparent;
            border-radius: 6px;
        }
        
        .unified-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid var(--neutral-800);
            box-shadow: var(--shadow-lg);
            transition: all 0.2s ease;
            position: relative;
            z-index: 3;
        }
        
        .unified-slider::-webkit-slider-thumb:hover {
            transform: scale(1.15);
            box-shadow: var(--shadow-xl);
        }
        
        .unified-slider::-moz-range-track {
            width: 100%;
            height: 12px;
            background: transparent;
            border-radius: 6px;
        }
        
        .unified-slider::-moz-range-thumb {
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid var(--neutral-800);
            box-shadow: var(--shadow-lg);
            transition: all 0.2s ease;
            position: relative;
            z-index: 3;
        }
        
        .slider-track-overlay {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 12px;
            transform: translateY(-50%);
            display: flex;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .track-section {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .track-section.founders {
            background: linear-gradient(90deg, var(--primary-blue), #3b82f6);
        }
        
        .track-section.sweat {
            background: linear-gradient(90deg, #34d399, var(--primary-green));
        }
        
        .allocation-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 24px;
        }
        
        .allocation-card {
            flex: 1;
            background: white;
            border: 2px solid var(--neutral-200);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .allocation-card.founders-card {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #dbeafe, #f0f9ff);
        }
        
        .allocation-card.sweat-card {
            border-color: var(--primary-green);
            background: linear-gradient(135deg, #d1fae5, #f0fdf4);
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: white;
            box-shadow: var(--shadow-md);
        }
        
        .card-icon svg {
            width: 24px;
            height: 24px;
        }
        
        .founders-card .card-icon svg {
            stroke: var(--primary-blue);
        }
        
        .sweat-card .card-icon svg {
            stroke: var(--primary-green);
        }
        
        .card-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .card-label {
            font-size: 16px;
            font-weight: 600;
            color: var(--neutral-700);
        }
        
        .card-value {
            font-size: 36px;
            font-weight: 800;
            letter-spacing: -0.02em;
        }
        
        .founders-card .card-value {
            color: var(--primary-blue);
        }
        
        .sweat-card .card-value {
            color: var(--primary-green);
        }
        
        .card-sublabel {
            font-size: 13px;
            color: var(--neutral-600);
            line-height: 1.4;
        }
        
        .allocation-divider {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--neutral-100);
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .allocation-divider svg {
            width: 24px;
            height: 24px;
            stroke: var(--neutral-400);
            transform: rotate(90deg);
        }
        
        .cash-investment-notice {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: linear-gradient(135deg, #fef3c7, #fffbeb);
            border: 2px solid var(--primary-amber);
            border-radius: 12px;
            margin-top: 8px;
        }
        
        .notice-icon {
            font-size: 32px;
            flex-shrink: 0;
        }
        
        .notice-content {
            flex: 1;
        }
        
        .notice-title {
            font-weight: 700;
            color: #92400e;
            margin-bottom: 4px;
        }
        
        .notice-text {
            font-size: 14px;
            color: #92400e;
            opacity: 0.9;
        }
        
        .content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 64px 40px;
        }
        
        .section {
            margin-bottom: 96px;
        }
        
        .section-title {
            font-size: clamp(32px, 4vw, 48px);
            font-weight: 800;
            letter-spacing: -0.02em;
            text-align: center;
            margin-bottom: 16px;
            color: var(--neutral-900);
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 18px;
            color: var(--neutral-600);
            margin-bottom: 48px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .overview-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 64px;
        }
        
        .pie-chart {
            width: 280px;
            height: 280px;
            border-radius: 50%;
            background: conic-gradient(
                var(--primary-blue) 0% 15%,
                var(--primary-green) 15% 50%,
                var(--primary-amber) 50% 100%
            );
            box-shadow: var(--shadow-2xl);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            margin-bottom: 40px;
        }
        
        .pie-chart::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.8), rgba(0,0,0,0.05));
            z-index: -1;
        }
        
        .pie-chart:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-2xl), 0 0 0 1px rgba(37, 99, 235, 0.1);
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            max-width: 700px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
            padding: 16px 20px;
            border-radius: 12px;
            font-weight: 500;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--neutral-200);
            transition: all 0.2s ease;
        }
        
        .legend-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--neutral-300);
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 8px;
            border: 2px solid white;
            box-shadow: var(--shadow-sm);
        }
        
        .equity-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
        }
        
        .equity-card {
            background: white;
            border-radius: 20px;
            padding: 36px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--neutral-200);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .equity-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            transition: all 0.3s ease;
        }
        
        .equity-card.founders-base::before {
            background: linear-gradient(90deg, var(--primary-blue), #3b82f6);
        }
        
        .equity-card.sweat-equity::before {
            background: linear-gradient(90deg, var(--primary-green), #34d399);
        }
        
        .equity-card.cash-contributions::before {
            background: linear-gradient(90deg, var(--primary-amber), #fbbf24);
        }
        
        .equity-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
            border-color: var(--neutral-300);
        }
        
        .equity-card:hover::before {
            height: 6px;
        }
        
        .equity-card h3 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--neutral-900);
        }
        
        .equity-card ul {
            list-style: none;
            padding: 0;
        }
        
        .equity-card li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: var(--neutral-700);
        }
        
        .equity-card li:last-child {
            margin-bottom: 0;
        }
        
        .equity-card li::before {
            content: '‚úì';
            background: var(--neutral-900);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--neutral-200), transparent);
            margin: 80px 0;
        }
        
        .pathways-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
        }
        
        .pathway-card {
            background: white;
            border-radius: 20px;
            padding: 36px;
            border: 1px solid var(--neutral-200);
            box-shadow: var(--shadow-md);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .pathway-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
            border-color: var(--neutral-300);
        }
        
        .pathway-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            background: linear-gradient(135deg, var(--neutral-900), var(--neutral-700));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            margin: 0 auto 20px;
            box-shadow: var(--shadow-lg);
        }
        
        .pathway-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--neutral-900);
            text-align: center;
        }
        
        .pathway-subtitle {
            font-size: 15px;
            color: var(--neutral-600);
            margin-bottom: 24px;
            text-align: center;
            font-weight: 500;
        }
        
        .pathway-description {
            font-size: 15px;
            line-height: 1.7;
            color: var(--neutral-700);
        }
        
        .investment-section {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border: 2px solid #f59e0b;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 64px;
        }
        
        .investment-section h3 {
            color: #92400e;
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .investment-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
            align-items: start;
        }
        
        .investment-details p {
            font-size: 16px;
            margin-bottom: 24px;
            color: #92400e;
            font-weight: 500;
        }
        
        .investment-details ul {
            list-style: none;
            padding: 0;
        }
        
        .investment-details li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: #92400e;
        }
        
        .investment-details li::before {
            content: 'üí∞';
            font-size: 20px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .investment-example {
            background: white;
            border: 2px solid #f59e0b;
            border-radius: 16px;
            padding: 24px;
            text-align: center;
        }
        
        .investment-example strong {
            color: #92400e;
            font-size: 18px;
            display: block;
            margin-bottom: 12px;
            font-weight: 700;
        }
        
        .investment-example .example-text {
            color: #92400e;
            font-size: 15px;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .questions-section {
            background: linear-gradient(135deg, var(--neutral-50), #ffffff);
            border: 2px dashed var(--neutral-300);
            border-radius: 20px;
            padding: 48px;
        }
        
        .questions-section h3 {
            color: var(--neutral-900);
            font-size: 30px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 36px;
        }
        
        .questions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
        }
        
        .question-item {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--neutral-200);
            transition: all 0.2s ease;
        }
        
        .question-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--neutral-300);
        }
        
        .question-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .question-number {
            background: linear-gradient(135deg, var(--neutral-900), var(--neutral-700));
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .question-text {
            font-size: 16px;
            font-weight: 600;
            color: var(--neutral-900);
            line-height: 1.4;
            flex: 1;
        }
        
        .question-options {
            margin-left: 48px;
        }
        
        .question-options li {
            color: var(--neutral-700);
            margin-bottom: 6px;
            font-size: 15px;
        }
        
        .stat-highlight {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0ea5e9;
            border-radius: 12px;
            padding: 12px;
            margin: 16px 0;
            text-align: center;
        }
        
        .stat-number {
            font-size: 28px;
            font-weight: 800;
            color: #0369a1;
            display: block;
        }
        
        .stat-label {
            font-size: 12px;
            color: #0369a1;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        @media (max-width: 768px) {
            .header-content {
                padding: 48px 20px;
            }
            
            .content {
                padding: 48px 20px;
            }
            
            .pie-chart {
                width: 240px;
                height: 240px;
            }
            
            .legend {
                grid-template-columns: 1fr;
            }
            
            .equity-breakdown {
                grid-template-columns: 1fr;
            }
            
            .pathways-grid {
                grid-template-columns: 1fr;
            }
            
            .investment-content {
                grid-template-columns: 1fr;
            }
            
            .questions-grid {
                grid-template-columns: 1fr;
            }
            
            .equity-card,
            .pathway-card {
                padding: 24px;
            }
            
            .investment-section {
                padding: 24px;
            }
            
            .questions-section {
                padding: 32px 20px;
            }
            
            .input-form {
                padding: 32px 20px;
                border-radius: 16px;
            }
            
            .input-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .input-section {
                padding: 24px;
            }
            
            .results-preview {
                grid-template-columns: 1fr;
                gap: 16px;
                padding: 24px;
                margin: -12px -8px -24px -8px;
            }
            
            .result-value {
                font-size: 28px;
            }
        }
        
        @media (max-width: 480px) {
            .questions-grid {
                grid-template-columns: 1fr;
            }
            
            .question-item {
                padding: 20px;
            }
            
            .question-options {
                margin-left: 0;
                margin-top: 12px;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>Equity Structure</h1>
                <p class="header-subtitle">A transparent framework for ownership, contribution, and growth</p>
                <div style="margin-top: 32px;">
                    <a href="/equity-structure" style="display: inline-flex; align-items: center; gap: 12px; background: linear-gradient(135deg, var(--primary-blue), #3b82f6); color: white; padding: 16px 24px; border-radius: 16px; text-decoration: none; font-weight: 600; font-size: 16px; box-shadow: var(--shadow-lg); transition: all 0.3s ease; border: 1px solid rgba(255,255,255,0.2);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-xl)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-lg)'">
                        <svg style="width: 24px; height: 24px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <path d="M9 9h6v6H9z"></path>
                            <path d="M9 1v6M15 1v6M9 17v6M15 17v6M1 9h6M1 15h6M17 9h6M17 15h6"></path>
                        </svg>
                        Launch Equity Calculator
                    </a>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="content">
            <!-- Overview Section -->
            <section class="section">
                <div class="overview-visual">
                    <div class="pie-chart"></div>
                    <div class="legend">
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--primary-blue);"></span>
                            <div>
                                <div style="font-weight: 600; color: var(--neutral-900);">Founders Base</div>
                                <div style="font-size: 14px; color: var(--neutral-600);">15% total pool</div>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--primary-green);"></span>
                            <div>
                                <div style="font-weight: 600; color: var(--neutral-900);">Sweat Equity</div>
                                <div style="font-size: 14px; color: var(--neutral-600);">35% total pool</div>
                            </div>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: var(--primary-amber);"></span>
                            <div>
                                <div style="font-weight: 600; color: var(--neutral-900);">Cash Investment</div>
                                <div style="font-size: 14px; color: var(--neutral-600);">50% total pool</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Equity Breakdown -->
            <section class="section">
                <h2 class="section-title">Equity Breakdown</h2>
                <p class="section-subtitle">Three distinct pathways to ownership, each designed for different contribution styles</p>
                
                <div class="equity-breakdown">
                    <div class="equity-card founders-base">
                        <h3>Founders Base (15% ‚Üí 3% each)</h3>
                        <ul>
                            <li>Each founder receives 3% from a shared 15% pool</li>
                            <li>Equal buy-in requirement for all founders</li>
                            <li>Represents unity and foundational commitment</li>
                            <li>Vests after 3 consecutive months of $4,000 profit</li>
                        </ul>
                        <div class="stat-highlight">
                            <span class="stat-number">3%</span>
                            <span class="stat-label">Per Founder</span>
                        </div>
                    </div>
                    
                    <div class="equity-card sweat-equity">
                        <h3>Sweat Equity (35% ‚Üí max 7% each)</h3>
                        <ul>
                            <li>Reserved for founders contributing consistent hands-on work</li>
                            <li>Earned through role fulfillment and operational involvement</li>
                            <li>Tracked fairly through contribution metrics</li>
                            <li>Gradual vesting (~2% per year of steady contribution)</li>
                            <li><em>Optional: founders can choose cash compensation instead</em></li>
                        </ul>
                        <div class="stat-highlight">
                            <span class="stat-number">7%</span>
                            <span class="stat-label">Maximum Per Founder</span>
                        </div>
                    </div>
                    
                    <div class="equity-card cash-contributions">
                        <h3>Cash Investment (50%)</h3>
                        <ul>
                            <li>Open to founders and potential outside investors</li>
                            <li>Proportional equity based on investment amount</li>
                            <li>Valued at agreed-upon company valuation at time of investment</li>
                            <li>Completely voluntary with no participation requirements</li>
                        </ul>
                        <div class="stat-highlight">
                            <span class="stat-number">50%</span>
                            <span class="stat-label">Investment Pool</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <div class="divider"></div>
            
            <!-- Pathways -->
            <section class="section">
                <h2 class="section-title">Founder Pathways</h2>
                <p class="section-subtitle">Real examples showing how different founders can approach equity building</p>
                
                <div class="pathways-grid">
                    <div class="pathway-card">
                        <div class="pathway-icon">üèãÔ∏è</div>
                        <h3 class="pathway-title">Alex ‚Äî The Operator</h3>
                        <p class="pathway-subtitle">Sweat equity maximizer</p>
                        <div class="pathway-description">
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Alex pays the standard buy-in and earns the 3% founders share once he stays committed and the company hits 3 months of $4,000 profit
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    By showing up consistently‚Äîhelping with sessions, operations, and weekly tasks‚ÄîAlex earns the full 7% sweat-equity over 3 years
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 0; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    He doesn't need to invest any extra money to reach his total 10% ownership
                                </li>
                            </ul>
                            <div class="stat-highlight">
                                <span class="stat-number">10%</span>
                                <span class="stat-label">Total Ownership</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="pathway-card">
                        <div class="pathway-icon">üí∞</div>
                        <h3 class="pathway-title">Jordan ‚Äî The Contributor</h3>
                        <p class="pathway-subtitle">Salary-focused approach</p>
                        <div class="pathway-description">
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Jordan pays the buy-in and earns the 3% founders share after the company reaches 3 months of $4,000 profit
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    He completes all his responsibilities during the development phase but chooses to get paid in cash instead of earning sweat equity
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 0; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Later, Jordan decides to leave the business, but he keeps his 3% forever
                                </li>
                            </ul>
                            <div class="stat-highlight">
                                <span class="stat-number">3%</span>
                                <span class="stat-label">Total Ownership</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="pathway-card">
                        <div class="pathway-icon">üìà</div>
                        <h3 class="pathway-title">Sam ‚Äî The Investor</h3>
                        <p class="pathway-subtitle">Capital-focused strategy</p>
                        <div class="pathway-description">
                            <ul style="list-style: none; padding: 0; margin: 0;">
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Sam pays the buy-in at first but leaves early, before the company reaches 3 months of $4,000 profit
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Later on, he invests $20,000 during a growth phase and gets equity based on the company's value at that time
                                </li>
                                <li style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 0; font-size: 15px; line-height: 1.6; color: var(--neutral-700);">
                                    <span style="background: var(--neutral-900); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 12px; flex-shrink: 0; margin-top: 2px;">‚úì</span>
                                    Sam isn't involved in operations anymore but stays connected as an investor
                                </li>
                            </ul>
                            <div class="stat-highlight">
                                <span class="stat-number">10%</span>
                                <span class="stat-label">Via Investment</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Investment Option -->
            <section class="investment-section">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px;">
                    <h3 style="margin: 0; color: #92400e; font-size: 28px; font-weight: 800;">Optional Cash Investment</h3>
                    <div style="flex: 1; height: 2px; background: linear-gradient(90deg, #f59e0b, #92400e); opacity: 0.6;"></div>
                    <div style="background: linear-gradient(135deg, #f59e0b, #fbbf24); color: white; padding: 8px 16px; border-radius: 20px; font-weight: 700; font-size: 14px; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
                        üìä From 50% Cash Pool Above
                    </div>
                </div>
                
                <div style="background: rgba(245, 158, 11, 0.1); border: 2px solid #f59e0b; border-radius: 12px; padding: 16px; margin-bottom: 24px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                        <div style="width: 24px; height: 24px; background: #f59e0b; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <svg style="width: 14px; height: 14px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                            </svg>
                        </div>
                        <span style="font-weight: 700; color: #92400e; font-size: 16px;">This draws from the Cash Investment (50%) pool shown in the breakdown above</span>
                    </div>
                    <p style="margin: 0; font-size: 14px; color: #92400e; opacity: 0.8; margin-left: 36px;">All founders can participate in this investment pool regardless of their chosen equity pathway</p>
                </div>

                <div class="investment-content">
                    <div class="investment-details">
                        <p>Additional equity available through capital contribution</p>
                        <ul>
                            <li>Available during expansion phases (equipment, buildouts, scaling)</li>
                            <li>Equity percentage based on agreed company valuation</li>
                            <li>Does not affect chosen pathway (A, B, or C)</li>
                            <li>Provides capital growth participation alongside sweat equity</li>
                        </ul>
                    </div>
                    <div class="investment-example">
                        <strong>Example Calculation</strong>
                        <div class="example-text">
                            Company valued at $200,000<br>
                            1% equity = $2,000<br><br>
                            $4,000 investment = 2% equity
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Questions -->
            <section class="questions-section">
                <h3>Team Decision Points</h3>
                <div class="questions-grid">
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">What's the optimal equity split between founders, sweat, and cash pools?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">How should we handle buy-in refunds for early departures?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">What should the initial founder buy-in amount be?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">How do we measure and track sweat equity contribution?</div>
                        </div>
                        <ul class="question-options">
                            <li>Time-based tracking (hours worked)</li>
                            <li>Role-based consistency (ongoing responsibilities)</li>
                        </ul>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">What are the optimal vesting schedules for each equity type?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">6</div>
                            <div class="question-text">When should we establish cash equity pricing‚Äînow or at investment time?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">7</div>
                            <div class="question-text">Should outside investors have access to the cash contribution pool?</div>
                        </div>
                    </div>
                    
                    <div class="question-item">
                        <div class="question-header">
                            <div class="question-number">8</div>
                            <div class="question-text">How should voting rights be structured‚Äîequity-weighted or equal?</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script>
        // Equity Pool Allocation Logic (Simplified)
        const foundersBaseSlider = document.getElementById('foundersBasePool');
        const sweatEquitySlider = document.getElementById('sweatEquityPool');
        
        const foundersBaseValue = document.getElementById('foundersBaseValue');
        const sweatEquityValue = document.getElementById('sweatEquityValue');
        const cashInvestmentValue = document.getElementById('cashInvestmentValue');
        const cashInvestmentBar = document.getElementById('cashInvestmentBar');
        const totalAllocation = document.getElementById('totalAllocation');
        const perFounderEquity = document.getElementById('perFounderEquity');
        
        function updateAllocationValues() {
            const founders = parseInt(foundersBaseSlider.value);
            const sweat = parseInt(sweatEquitySlider.value);
            const sum = founders + sweat;
            
            // Prevent sum from exceeding 100
            if (sum > 100) {
                // Adjust the other slider proportionally
                if (this.id === 'foundersBasePool') {
                    sweatEquitySlider.value = Math.max(0, 100 - founders);
                } else {
                    foundersBaseSlider.value = Math.max(0, 100 - sweat);
                }
                // Recalculate
                return updateAllocationValues();
            }
            
            const cash = 100 - sum;
            
            // Update display values
            foundersBaseValue.textContent = founders + '%';
            sweatEquityValue.textContent = sweat + '%';
            cashInvestmentValue.textContent = cash + '%';
            cashInvestmentBar.style.width = cash + '%';
            
            // Update per-founder equity
            const perFounder = (founders / 5).toFixed(1);
            perFounderEquity.textContent = perFounder + '%';
            
            // Update cash pool calculations
            updateCashPoolCalculations(cash);
            
            // Total is always 100%
            totalAllocation.textContent = '100%';
            totalAllocation.style.color = 'var(--primary-green)';
            
            // Update pie chart if it exists
            updatePieChart(founders, sweat, cash);
            
            // Update results
            updateResults();
        }
        
        function updateCashPoolCalculations(cashPercent) {
            const totalCapital = getRawValue(document.getElementById('totalCapitalNeeded'));
            const poolInvestment = getRawValue(document.getElementById('poolInvestmentAmount'));
            
            // Calculate pool ownership percentage
            const poolOwnership = totalCapital > 0 ? (poolInvestment / totalCapital) * 100 : 0;
            const actualEquity = (poolOwnership / 100) * cashPercent;
            
            // Update calculator display
            document.getElementById('poolEquityResult').textContent = poolOwnership.toFixed(1) + '%';
            document.getElementById('actualEquityPercent').textContent = actualEquity.toFixed(1) + '%';
            
            // Sync with main cash investment input
            const cashInput = document.getElementById('cashInvestment');
            cashInput.setAttribute('data-raw-value', poolInvestment);
            formatNumberInput(cashInput);
            
            // Update the example calculation in the investment section
            const exampleCalc = document.querySelector('.investment-example .example-text');
            if (exampleCalc && cashPercent > 0) {
                const companyValue = Math.round(totalCapital / (cashPercent / 100));
                const perPercent = cashPercent > 0 ? Math.round(totalCapital / cashPercent) : 0;
                exampleCalc.innerHTML = `
                    Company valued at $${companyValue.toLocaleString()}<br>
                    1% equity = $${perPercent.toLocaleString()}<br><br>
                    $${(perPercent * 2).toLocaleString()} investment = 2% equity
                `;
            }
        }
        
        function updatePieChart(founders, sweat, cash) {
            const pieChart = document.querySelector('.pie-chart');
            if (pieChart) {
                pieChart.style.background = `conic-gradient(
                    var(--primary-blue) 0% ${founders}%,
                    var(--primary-green) ${founders}% ${founders + sweat}%,
                    var(--primary-amber) ${founders + sweat}% 100%
                )`;
            }
        }
        
        // Add event listeners with context binding
        foundersBaseSlider.addEventListener('input', function() {
            updateAllocationValues.call(this);
        });
        
        sweatEquitySlider.addEventListener('input', function() {
            updateAllocationValues.call(this);
        });
        
        // Add event listeners for cash pool calculator
        document.getElementById('totalCapitalNeeded').addEventListener('input', function() {
            const cash = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
            updateCashPoolCalculations(cash);
            updateResults();
        });
        
        document.getElementById('poolInvestmentAmount').addEventListener('input', function() {
            const cash = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
            updateCashPoolCalculations(cash);
            updateResults();
        });
        
        // Number formatting functions
        function formatNumberInput(input) {
            // Get the raw value from either the attribute or the current value
            let value = input.getAttribute('data-raw-value') || input.value.replace(/[^0-9]/g, '');
            
            // Remove leading zeros unless it's just "0"
            if (value.length > 1 && value[0] === '0') {
                value = value.replace(/^0+/, '');
            }
            
            // If empty, keep it empty (don't set to 0)
            if (!value) {
                input.value = '';
                return;
            }
            
            // Store the raw numeric value
            input.setAttribute('data-raw-value', value);
            
            // Add commas for display
            const formatted = value.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            
            // Update the input value
            input.value = formatted;
        }
        
        function getRawValue(input) {
            const rawAttr = input.getAttribute('data-raw-value');
            if (rawAttr) {
                return parseInt(rawAttr) || 0;
            }
            return parseInt(input.value.replace(/[^0-9]/g, '')) || 0;
        }
        
        // Apply formatting to all currency inputs
        const currencyInputs = [
            document.getElementById('totalCapitalNeeded'),
            document.getElementById('poolInvestmentAmount'),
            document.getElementById('cashInvestment')
        ];
        
        currencyInputs.forEach(input => {
            // Store the raw value initially
            input.setAttribute('data-raw-value', input.value);
            
            // Format on blur (when user leaves the field)
            input.addEventListener('blur', function(e) {
                formatNumberInput(e.target);
            });
            
            // Remove formatting on focus to allow easy editing
            input.addEventListener('focus', function(e) {
                const rawValue = getRawValue(e.target);
                e.target.value = rawValue || '';
            });
            
            // Update raw value on input and trigger calculations
            input.addEventListener('input', function(e) {
                const value = e.target.value.replace(/[^0-9]/g, '');
                e.target.setAttribute('data-raw-value', value);
                
                // Trigger updates based on which input changed
                if (e.target.id === 'totalCapitalNeeded' || e.target.id === 'poolInvestmentAmount') {
                    const cash = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
                    updateCashPoolCalculations(cash);
                    updateResults();
                } else if (e.target.id === 'cashInvestment') {
                    document.getElementById('poolInvestmentAmount').value = value;
                    document.getElementById('poolInvestmentAmount').setAttribute('data-raw-value', value);
                    const cash = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
                    updateCashPoolCalculations(cash);
                    updateResults();
                }
            });
            
            // Format initial value
            formatNumberInput(input);
        });
        
        // Initialize values
        updateAllocationValues();
        
        // Other sliders functionality
        const sweatEquityPercent = document.getElementById('sweatEquityPercent');
        const extraEquitySlider = document.getElementById('extraEquity');
        const profitPayoutSlider = document.getElementById('profitPayout');
        
        // Update slider values on change
        sweatEquityPercent.addEventListener('input', (e) => {
            e.target.nextElementSibling.textContent = e.target.value + '%';
            updateResults();
        });
        
        extraEquitySlider.addEventListener('input', (e) => {
            e.target.nextElementSibling.textContent = e.target.value + '%';
            updateResults();
        });
        
        profitPayoutSlider.addEventListener('input', (e) => {
            e.target.nextElementSibling.textContent = e.target.value + '%';
            updateResults();
        });
        
        // Update results preview
        function updateResults() {
            const foundersBase = parseInt(foundersBaseSlider.value) / 5; // Divided by 5 founders
            const sweatEquity = parseFloat(sweatEquityPercent.value);
            const cashInvestment = getRawValue(document.getElementById('cashInvestment'));
            
            // Calculate equity from cash investment
            const totalCapitalNeeded = getRawValue(document.getElementById('totalCapitalNeeded'));
            const cashPoolPercent = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
            const perPercentCost = cashPoolPercent > 0 ? totalCapitalNeeded / cashPoolPercent : 0;
            const equityFromCash = perPercentCost > 0 ? (cashInvestment / perPercentCost) : 0;
            
            const totalEquity = foundersBase + sweatEquity + equityFromCash;
            
            // Update investment preview
            const investmentPreview = document.getElementById('investmentEquityPreview');
            if (investmentPreview) {
                investmentPreview.innerHTML = `This investment equals <span style="font-weight: 700;">${equityFromCash.toFixed(1)}%</span> equity at current valuation`;
            }
            
            document.getElementById('totalEquity').textContent = totalEquity.toFixed(1) + '%';
            document.getElementById('totalInvestment').textContent = '$' + cashInvestment.toLocaleString();
            
            // More realistic ROI calculation
            const years = parseInt(document.getElementById('simulationYears').value);
            const profitPayout = parseInt(document.getElementById('profitPayout').value) / 100;
            
            // Assume annual profit growth and calculate ROI
            const estimatedAnnualProfit = 50000; // Base estimate
            const growthRate = 1.15; // 15% annual growth
            let totalPayout = 0;
            
            for (let i = 1; i <= years; i++) {
                const yearProfit = estimatedAnnualProfit * Math.pow(growthRate, i - 1);
                const yearPayout = yearProfit * profitPayout * (totalEquity / 100);
                totalPayout += yearPayout;
            }
            
            const roi = cashInvestment > 0 ? Math.round((totalPayout / cashInvestment) * 100) : 0;
            document.getElementById('projectedROI').textContent = roi + '%';
        }
        
        // Cash investment input - sync with pool calculator
        document.getElementById('cashInvestment').addEventListener('input', function() {
            document.getElementById('poolInvestmentAmount').value = this.value;
            const cash = 100 - parseInt(foundersBaseSlider.value) - parseInt(sweatEquitySlider.value);
            updateCashPoolCalculations(cash);
            updateResults();
        });
        document.getElementById('simulationYears').addEventListener('input', updateResults);
        
        // Toggle buttons
        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const group = this.parentElement;
                group.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>